import{_ as m,c as e,d as t,b as n,r,o as i}from"./app-nJSYOaSR.js";const p={};function o(l,a){const s=r("ImageCard");return i(),e("div",null,[a[0]||(a[0]=t('<h2 id="transformer-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#transformer-æ¦‚è¿°"><span><strong>Transformer æ¦‚è¿°</strong></span></a></h2><h3 id="transformer-è§£å†³çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#transformer-è§£å†³çš„é—®é¢˜"><span><strong>Transformer è§£å†³çš„é—®é¢˜</strong></span></a></h3><table><thead><tr><th>ğŸš€ é—®é¢˜ç±»åˆ«</th><th>âŒ ä¼ ç»Ÿæ–¹æ³•çš„å±€é™</th><th>âœ… Transformer çš„è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>é•¿è·ç¦»ä¾èµ–å»ºæ¨¡</strong></td><td>ğŸš¨ RNN éš¾ä»¥æ•æ‰é•¿è·ç¦»ä¸Šä¸‹æ–‡ï¼Œå­˜åœ¨æ¢¯åº¦æ¶ˆå¤±/çˆ†ç‚¸é—®é¢˜</td><td>âœ¨ é‡‡ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼Œç›´æ¥å»ºç«‹æ‰€æœ‰è¯ä¹‹é—´çš„ä¾èµ–å…³ç³»</td></tr><tr><td><strong>å¹¶è¡ŒåŒ–æ•ˆç‡</strong></td><td>ğŸš¨ RNN çš„æ—¶åºä¾èµ–æ€§å¯¼è‡´éš¾ä»¥å¹¶è¡Œï¼Œè®­ç»ƒæ—¶é—´è¾ƒé•¿</td><td>âœ¨ å…¨æ³¨æ„åŠ›æ¶æ„æ”¯æŒé«˜åº¦å¹¶è¡Œï¼Œæ˜¾è‘—æå‡è®­ç»ƒé€Ÿåº¦</td></tr><tr><td><strong>æ¨¡å‹ç»“æ„å¤æ‚åº¦</strong></td><td>ğŸš¨ å¤æ‚çš„ RNN ç»“æ„å †å ï¼ˆå¦‚ LSTM+Attentionï¼‰å¢åŠ äº†è®¡ç®—å’Œè®¾è®¡éš¾åº¦</td><td>âœ¨ é‡‡ç”¨ç»Ÿä¸€çš„æ³¨æ„åŠ›æ¨¡å—ï¼ˆSelf-Attentionï¼‰ï¼Œç®€åŒ–æ¨¡å‹æ¶æ„</td></tr><tr><td><strong>å…¨å±€å»ºæ¨¡èƒ½åŠ›</strong></td><td>ğŸš¨ æ³¨æ„åŠ›æœºåˆ¶ä½œä¸ºè¾…åŠ©æ¨¡å—ï¼Œå—é™äº RNN/CNN æ¡†æ¶ï¼Œæ— æ³•å……åˆ†åˆ©ç”¨å…¨å±€ä¿¡æ¯</td><td>âœ¨ çº¯æ³¨æ„åŠ›ç»“æ„å…¨å±€åŒ–ä¿¡æ¯å»ºæ¨¡ï¼Œçµæ´»æ•æ‰å„è¯ä¹‹é—´çš„ç›¸äº’ä¾èµ–</td></tr></tbody></table><h2 id="transformer-çš„-tips" tabindex="-1"><a class="header-anchor" href="#transformer-çš„-tips"><span><strong>Transformer çš„ Tips</strong></span></a></h2><p>Transformer çš„æ¨¡å‹ç»“æ„å¦‚ä¸‹ï¼š</p>',5)),n(s,{image:"https://image.velvet-notes.org/blog/transformer_structure.png",width:"65%",center:"true"}),a[1]||(a[1]=t('<h3 id="tip-1-ç¼–ç å™¨-è§£ç å™¨æ¶æ„å †å -encoder-and-decoder-stacks" tabindex="-1"><a class="header-anchor" href="#tip-1-ç¼–ç å™¨-è§£ç å™¨æ¶æ„å †å -encoder-and-decoder-stacks"><span><mark class="note"><strong>Tip 1ï¼šç¼–ç å™¨-è§£ç å™¨æ¶æ„å †å ï¼ˆEncoder and Decoder Stacksï¼‰</strong></mark></span></a></h3><h4 id="encoder" tabindex="-1"><a class="header-anchor" href="#encoder"><span><strong>Encoder</strong></span></a></h4><p><strong>â­æ•´ä½“ç»“æ„ï¼š</strong></p><p>ç”± <strong>6å±‚ï¼ˆN=6ï¼‰å®Œå…¨ç›¸åŒçš„å±‚å †å </strong> è€Œæˆï¼Œæ¯ä¸€å±‚éƒ½æœ‰ä¸¤ä¸ª <strong>å­å±‚ï¼ˆsub-layerï¼‰</strong>ï¼š</p><p><mark class="note">1. <strong>å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆMulti-Head Self-Attentionï¼‰ï¼š</strong></mark></p><ul><li>è¾“å…¥åºåˆ—ä¸­çš„æ¯ä¸ªè¯ï¼ˆTokenï¼‰å¯ä»¥ä¸å…¶ä»–è¯å»ºç«‹ä¾èµ–å…³ç³»</li><li>é€šè¿‡å¤šä¸ªæ³¨æ„åŠ›å¤´å¹¶è¡Œè®¡ç®—ï¼Œå¯ä»¥æ•æ‰<mark class="important">ä¸åŒçš„ä¾èµ–æ¨¡å¼ï¼ˆå¤šå¤´å­¦ä¹ å¤šè¡¨å¾ï¼‰</mark></li></ul><p><mark class="note">2. <strong>ä½ç½®ç¼–ç çš„å…¨è¿æ¥å‰é¦ˆç½‘ç»œï¼ˆPosition-wise Fully Connected Feed-Forward Network, FFNï¼‰ï¼š</strong></mark></p><ul><li>å¯¹æ¯ä¸ªä½ç½®ï¼ˆTokenï¼‰å•ç‹¬åº”ç”¨ç›¸åŒçš„å‰é¦ˆç¥ç»ç½‘ç»œï¼Œ<mark class="important">é€šè¿‡ä¸¤ä¸ªçº¿æ€§å±‚æ˜ å°„åˆ°éœ€è¦çš„è¯­ä¹‰ç©ºé—´ä¸­</mark>ï¼Œå…¶ä¸­åœ¨è¾“å…¥ Embedding åè¿›è¡Œ <strong>ä½ç½®ç¼–ç ï¼ˆPositional Encodingï¼‰</strong></li></ul><p><mark class="important">Encoder çš„è¾“å…¥æ˜¯ <strong>åŸå§‹åºåˆ—</strong></mark></p><p><strong>â­æ®‹å·®è¿æ¥ä¸å±‚å½’ä¸€åŒ–ï¼ˆLayer Normalizationï¼‰ï¼š</strong></p><p><strong>æ®‹å·®è¿æ¥ï¼ˆResidual Connectionï¼‰</strong> â€”â€” æ¯ä¸ªå­å±‚è¾“å‡ºéƒ½ä¼šä¸è¾“å…¥ç›´æ¥ç›¸åŠ ï¼ŒåŒæ—¶å¯¹æ¯ä¸ªå­å±‚çš„è¾“å‡ºè¿›è¡Œå½’ä¸€åŒ–ï¼Œç¨³å®šè®­ç»ƒè¿‡ç¨‹ï¼š</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>LayerNorm</mtext><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mtext>Sublayer</mtext><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\\text{LayerNorm}(x + \\text{Sublayer}(x)) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">LayerNorm</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Sublayer</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span></span></span></span></span></p><p>è¿™ç§è®¾è®¡ç¼“è§£äº†æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œå¹¶ä½¿æ¢¯åº¦æ›´ç¨³å®š</p><p><strong>â­è¾“å‡ºç»´åº¦ï¼š</strong> æ¯ä¸€å±‚çš„è¾“å‡ºéƒ½ä¿æŒç›¸åŒçš„ç»´åº¦ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>d</mi><mrow><mi>m</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi></mrow></msub><mo>=</mo><mn>512</mn></mrow><annotation encoding="application/x-tex">d_{model} = 512</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">512</span></span></span></span>ï¼Œè¿™ç¡®ä¿äº†æ¨¡å‹ç»“æ„çš„ç®€æ´æ€§</p><h4 id="decoder" tabindex="-1"><a class="header-anchor" href="#decoder"><span><strong>Decoder</strong></span></a></h4><p><strong>â­æ•´ä½“ç»“æ„ï¼š</strong></p><p>ä¹Ÿç”± <strong>6å±‚ï¼ˆN=6ï¼‰å®Œå…¨ç›¸åŒçš„å±‚å †å </strong> è€Œæˆï¼Œæ¯å±‚æœ‰ä¸‰ä¸ªå­å±‚ï¼š</p><p><mark class="note">1. <strong>æ©ç å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆMasked Multi-Head Self-Attentionï¼‰ï¼š</strong></mark></p><p>ä¸Encoderçš„è‡ªæ³¨æ„åŠ›ç±»ä¼¼ï¼Œä½†å¼•å…¥äº† <b>&quot;æ©ç &quot;ï¼ˆMaskï¼‰</b> æœºåˆ¶</p><p>æ©ç ç¡®ä¿äº†ä½ç½® <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span> çš„è¯åªèƒ½çœ‹åˆ°å®ƒä¹‹å‰ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>â†’</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1 \\to i-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7429em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> çš„è¯ï¼Œé¿å…åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­æ³„æ¼æœªæ¥ä¿¡æ¯</p><div class="hint-container note"><p class="hint-container-title">å…³äº Mask</p><p><mark class="important">Self-Attention æ˜¯èƒ½å¤Ÿçœ‹åˆ°å…¨éƒ¨çš„è¾“å…¥ï¼ˆæ‰€æœ‰çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant="normal">K</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">y</mi></mrow><mo separator="true">,</mo><mrow><mi mathvariant="normal">V</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">e</mi></mrow></mrow><annotation encoding="application/x-tex">\\mathrm{Key}, \\mathrm{Value}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">Key</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathrm">Value</span></span></span></span></span>ï¼‰ï¼Œä¸ºäº†ä¿æŒè®­ç»ƒä¸é¢„æµ‹çš„ä¸€è‡´ï¼ˆè‡ªå›å½’æ¨¡å‹ï¼Œåœ¨æ—¶åˆ» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span> åªç”¨å·²ç”Ÿæˆï¼ˆæˆ–å·²çŸ¥ï¼‰çš„å‰åºä¿¡æ¯å»é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼‰ï¼Œä½¿ç”¨ Mask åªå…è®¸å…¶çœ‹åˆ° <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span> æ—¶åˆ»ä¹‹å‰çš„ä¿¡æ¯</mark></p><p><strong>â­Mask çš„æ“ä½œåŸç†ï¼š</strong></p><p>ç”±äºåœ¨è‡ªæ³¨æ„åŠ›ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Q</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">y</mi></mrow><annotation encoding="application/x-tex">\\mathrm{Query}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">Query</span></span></span></span></span> ä¼šä¸æ¯ä¸ª <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">K</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">y</mi></mrow><annotation encoding="application/x-tex">\\mathrm{Key}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">Key</span></span></span></span></span> è¿›è¡Œè®¡ç®—ï¼Œä½†æ˜¯ä¸ºäº†ä¿æŒè®­ç»ƒä¸é¢„æµ‹çš„ä¸€è‡´æ€§ï¼Œè¦æ±‚å½“å‰çš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi mathvariant="normal">K</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">y</mi></mrow><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">\\mathrm{Key}_t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9275em;vertical-align:-0.2441em;"></span><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">Key</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1864em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span></span></span></span> åªèƒ½å– <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi mathvariant="normal">K</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">y</mi></mrow><mn>1</mn><mo>â†’</mo><msub><mrow><mi mathvariant="normal">K</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">y</mi></mrow><mrow><mi>t</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">\\mathrm{Key}1 \\to \\mathrm{Key}_{t-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">Key</span></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9858em;vertical-align:-0.3025em;"></span><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">Key</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3025em;"><span></span></span></span></span></span></span></span></span></span></p><p>Mask é€šè¿‡å¯¹ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mrow><mi mathvariant="normal">K</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">y</mi></mrow><mi>t</mi></msub><mo>â‹¯</mo></mrow><annotation encoding="application/x-tex">\\mathrm{Key}_t \\cdots</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9275em;vertical-align:-0.2441em;"></span><span class="mord"><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">Key</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1864em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â‹¯</span></span></span></span> ä»¥åçš„ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">K</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">y</mi></mrow><annotation encoding="application/x-tex">\\mathrm{Key}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">Key</span></span></span></span></span> å–ä¸€ä¸ªéå¸¸å¤§çš„è´Ÿæ•°ï¼Œä½¿å¾—ç» <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">f</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">m</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">x</mi></mrow><annotation encoding="application/x-tex">\\mathrm{softmax}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathrm">softmax</span></span></span></span></span> åè¿™äº›ç»“æœéƒ½æ˜¯ 0</p></div><p><mark class="note">2. <strong>å¤šå¤´éè‡ªæ³¨æ„åŠ›ï¼ˆMulti-Head Attentionï¼‰ï¼š</strong></mark></p><ul><li>å°†ç¼–ç å™¨çš„è¾“å‡ºä½œä¸º <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">K</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">y</mi></mrow><annotation encoding="application/x-tex">\\mathrm{Key}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">Key</span></span></span></span></span> å’Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">V</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">l</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">e</mi></mrow><annotation encoding="application/x-tex">\\mathrm{Value}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathrm">Value</span></span></span></span></span>ï¼Œè€Œ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Q</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">y</mi></mrow><annotation encoding="application/x-tex">\\mathrm{Query}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathrm" style="margin-right:0.01389em;">Query</span></span></span></span></span> æ¥è‡ªè§£ç å™¨çš„å‰ä¸€å±‚çš„è¾“å‡ºã€‚<mark class="important">è¿™è®© Decoder èƒ½è·å– Encoder ç¼–ç çš„å…¨å±€ä¿¡æ¯ï¼ˆæºåºåˆ—ï¼‰ä½œä¸ºç›‘ç£</mark></li><li>å°†ç¼–ç å™¨è¾“å‡ºä½œä¸ºé”®å€¼ï¼Œç›¸å½“äºä¸ºè§£ç å™¨æä¾›é™æ€çš„å…¨å±€è®°å¿†ï¼ˆStatic Memoryï¼‰ï¼Œè€ŒæŸ¥è¯¢å‘é‡åˆ™ä»£è¡¨åŠ¨æ€ç”Ÿæˆè¿‡ç¨‹ä¸­çš„å½“å‰çŠ¶æ€ã€‚è¿™ç§&quot;åŠ¨æ€æŸ¥è¯¢+é™æ€è®°å¿†&quot;çš„ç»„åˆï¼Œæ—¢æ»¡è¶³è‡ªå›å½’çš„å› æœçº¦æŸï¼Œåˆèƒ½å……åˆ†æŒ–æ˜æºåºåˆ—ä¿¡æ¯</li></ul><p><mark class="note">3. <strong>Feed-Forward Network (FFN)ï¼š</strong></mark></p><ul><li>ä¸ Encoder ä¸­çš„ FFN ç›¸åŒ</li></ul><p><strong>æ®‹å·®è¿æ¥å’Œå±‚å½’ä¸€åŒ–ï¼š</strong></p><p>å’Œ Encoder ä¸€è‡´ï¼Œæ¯ä¸ªå­å±‚éƒ½æœ‰ <strong>æ®‹å·®è¿æ¥</strong> å’Œ <strong>å±‚å½’ä¸€åŒ–</strong> ï¼Œç¡®ä¿è®­ç»ƒç¨³å®š</p><ul><li><mark class="important">åœ¨è®­ç»ƒä¸­ï¼ŒDecoder çš„è¾“å…¥æ˜¯ <strong>ç›®æ ‡åºåˆ—</strong> ç»è¿‡ <strong>å³ç§»ï¼ˆshift rightï¼‰</strong> çš„ä¸€ä¸ªåºåˆ—</mark></li></ul><div class="hint-container note"><p class="hint-container-title">å…³äº Teacher Forcing</p><p>ä½¿ç”¨çœŸå®çš„ <strong>ç›®æ ‡åºåˆ—ï¼ˆGround Truthï¼‰</strong> ä½œä¸ºè¾“å…¥ï¼Œä»¥åŠ é€Ÿæ”¶æ•›å¹¶ç¨³å®šè®­ç»ƒè¿‡ç¨‹</p></div><div class="hint-container note"><p class="hint-container-title">å…³äº Scheduled Sampling</p><p>æœ‰äº›ä»»åŠ¡éœ€è¦ä¸€äº› <strong>éšæœºæ€§ï¼ˆnoiseï¼‰</strong>ï¼Œé”™è¯¯çš„æ ·æœ¬ä¼šå¾—åˆ°æ›´å¥½çš„è®­ç»ƒæ•ˆæœï¼ˆæ³›ç”¨æ€§ï¼‰</p><p>å¦‚æœå•çº¯ä½¿ç”¨ Teacher Forcingï¼Œç”±äºè®­ç»ƒå’Œæ¨æ–­æ—¶ Decoder è¾“å…¥ä¸ä¸€è‡´å¯¼è‡´ <strong>æ›å…‰åå·®ï¼ˆExposure Biasï¼‰</strong></p></div><ul><li><mark class="important">åœ¨æ¨ç†ä¸­ï¼ŒDecoder çš„è¾“å…¥æ˜¯ <strong>å‰é¢ç”Ÿæˆçš„åºåˆ—</strong></mark></li></ul><div class="hint-container tip"><p class="hint-container-title">ä¸ºä»€ä¹ˆè¦ &quot;Shift Right&quot;?</p><p>ä¸ºäº†æ˜“äºé¢„æµ‹ç¬¬ä¸€ä¸ª tokenï¼ˆå¯¹äºç¬¬ä¸€ä¸ª token éœ€è¦ä¸€ä¸ªç±»ä¼¼äºå ä½ç¬¦çš„å­˜åœ¨ï¼‰</p></div><p>Transformer çš„è®­ç»ƒæµç¨‹å¦‚ä¸‹ï¼ˆwith teacher forcingï¼‰ï¼š</p>',33)),n(s,{image:"https://image.velvet-notes.org/blog/transformer_process.png",width:"60%",center:"true"})])}const h=m(p,[["render",o]]),g=JSON.parse('{"path":"/papers/%E7%BB%8F%E5%85%B8%E8%91%97%E4%BD%9C/transformer","title":"Attention Is All You Need","lang":"zh-CN","frontmatter":{"title":"Attention Is All You Need","createTime":"2025/05/08 16:54:34","tags":["Transformer","Self-Attention"],"permalink":"/papers/ç»å…¸è‘—ä½œ/transformer","prev":"/papers/ç»å…¸è‘—ä½œ/resnet","next":"/papers/ç»å…¸è‘—ä½œ/ddpm","outline":[2,4],"description":"Transformer æ¦‚è¿° Transformer è§£å†³çš„é—®é¢˜ Transformer çš„ Tips Transformer çš„æ¨¡å‹ç»“æ„å¦‚ä¸‹ï¼š","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Attention Is All You Need\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-05-25T13:13:36.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://velvet-notes.org/papers/%E7%BB%8F%E5%85%B8%E8%91%97%E4%BD%9C/transformer"}],["meta",{"property":"og:site_name","content":"Velvet-Notes"}],["meta",{"property":"og:title","content":"Attention Is All You Need"}],["meta",{"property":"og:description","content":"Transformer æ¦‚è¿° Transformer è§£å†³çš„é—®é¢˜ Transformer çš„ Tips Transformer çš„æ¨¡å‹ç»“æ„å¦‚ä¸‹ï¼š"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-25T13:13:36.000Z"}],["meta",{"property":"article:tag","content":"Self-Attention"}],["meta",{"property":"article:tag","content":"Transformer"}],["meta",{"property":"article:modified_time","content":"2025-05-25T13:13:36.000Z"}]]},"readingTime":{"minutes":4.22,"words":1267},"git":{"createdTime":1746782006000,"updatedTime":1748178816000,"contributors":[{"name":"Velvet","username":"Velvet0314","email":"3131492575@qq.com","commits":5,"avatar":"https://image.velvet-notes.org/blog/avatar.png","url":"https://github.com/Velvet0314"}]},"autoDesc":true,"filePathRelative":"papers/ç»å…¸è‘—ä½œ/transformer.md","headers":[],"categoryList":[{"id":"a566b2","sort":10000,"name":"papers"},{"id":"3111f2","sort":10003,"name":"ç»å…¸è‘—ä½œ"}]}');export{h as comp,g as data};
